# iOS ì•± ë°°í¬ ë° ìë™í™” í™˜ê²½ êµ¬ì¶•

## ì‘ì—… ê°œìš”
- Capacitor ê¸°ë°˜ iOS ì•±ì˜ ê°œë°œ ë° ë°°í¬ í™˜ê²½ êµ¬ì¶•
- Live Reload ê°œë°œ ì›Œí¬í”Œë¡œìš° ìë™í™” ìŠ¤í¬ë¦½íŠ¸ êµ¬í˜„
- ì‹¤ì œ ê¸°ê¸° í…ŒìŠ¤íŠ¸ ë° ë°°í¬ ì¤€ë¹„ ê³¼ì • ë¬¸ì„œí™”

## ì‘ì—… ê³¼ì •

### 1. ë¶„ì„ ë° ê³„íš
- **ë¬¸ì œì **: ë§¤ë²ˆ IP ì£¼ì†Œ í™•ì¸ â†’ ì„¤ì • ë³€ê²½ â†’ ë™ê¸°í™” â†’ Xcode ì‹¤í–‰ ê³¼ì • ë°˜ë³µ
- **ëª©í‘œ**: ê°œë°œì ê²½í—˜ í–¥ìƒì„ ìœ„í•œ ìë™í™”ëœ ì›Œí¬í”Œë¡œìš° êµ¬ì¶•
- **ìš”êµ¬ì‚¬í•­**: Live Reload, ì‹¤ì œ ê¸°ê¸° í…ŒìŠ¤íŠ¸, ìë™ IP ê°ì§€

### 2. êµ¬í˜„

#### ê¸°ë³¸ ì‹¤í–‰ ë°©ë²• ì •ë¦½
**ê³µì‹ ë¬¸ì„œ ê¸°ì¤€ ì›Œí¬í”Œë¡œìš°**
```bash
# 1. ì›¹ì•± ë¹Œë“œ
yarn build

# 2. iOS í”„ë¡œì íŠ¸ ë™ê¸°í™”
npx cap sync ios

# 3. Xcodeì—ì„œ í”„ë¡œì íŠ¸ ì—´ê¸°
npx cap open ios
```

**Live Reload ê°œë°œ ë°©ë²•**
```bash
# 1. Vite ê°œë°œ ì„œë²„ ì‹œì‘ (í„°ë¯¸ë„ 1)
yarn dev

# 2. iOS ì•± Live Reload ì‹¤í–‰ (í„°ë¯¸ë„ 2)
yarn ios:live
# ë˜ëŠ”
npx cap run ios --live-reload --host <IP> --port 5173
```

#### ìë™í™” ìŠ¤í¬ë¦½íŠ¸ êµ¬í˜„
**ìŠ¤í¬ë¦½íŠ¸ êµ¬ì¡°**
```
scripts/
â”œâ”€â”€ utils/                    # ê³µí†µ ìœ í‹¸ë¦¬í‹°
â”‚   â”œâ”€â”€ network.js           # IP ê°ì§€, URL ìƒì„±
â”‚   â”œâ”€â”€ capacitor.js         # iOS ë™ê¸°í™”, Xcode ì—´ê¸°
â”‚   â””â”€â”€ dev-server.js        # Vite ì„œë²„ ê´€ë¦¬
â”œâ”€â”€ setup-live-reload.js     # Live Reload ì„¤ì •
â””â”€â”€ ios-build.js             # iOS ë¹Œë“œ
```

**ìë™í™” ë™ì‘ ê³¼ì •**
1. í˜„ì¬ ë„¤íŠ¸ì›Œí¬ IP ì£¼ì†Œ ìë™ ê°ì§€
2. capacitor.config.ts íŒŒì¼ ìë™ ì—…ë°ì´íŠ¸
3. iOS í”„ë¡œì íŠ¸ ë™ê¸°í™” (í•„ìš”ì‹œ)
4. Vite ê°œë°œ ì„œë²„ ì‹¤í–‰ ì¤€ë¹„
5. iOS ì•± Live Reload ëª¨ë“œ ì‹¤í–‰

#### íŒ¨í‚¤ì§€ ìŠ¤í¬ë¦½íŠ¸ ì •ì˜
```json
{
  "scripts": {
    "dev": "vite",
    "ios:live": "node scripts/setup-live-reload.js",
    "ios:build": "node scripts/ios-build.js",
    "dev:ios": "concurrently \"yarn dev\" \"yarn ios:live\""
  }
}
```

### 3. ê²€ì¦ ë° í…ŒìŠ¤íŠ¸
- ì‹œë®¬ë ˆì´í„°ì—ì„œ Live Reload ë™ì‘ í™•ì¸
- ì‹¤ì œ iPhone ê¸°ê¸°ì—ì„œ í…ŒìŠ¤íŠ¸ ì™„ë£Œ
- ë„¤íŠ¸ì›Œí¬ í™˜ê²½ ë³€ê²½ ì‹œ ìë™ IP ê°ì§€ ë™ì‘ í™•ì¸

## ë°œìƒí•œ ë¬¸ì œ ë° í•´ê²°

### ë¬¸ì œ 1: iOS ì•± ê²€ì€ í™”ë©´ ë¬¸ì œ
- **ë¬¸ì œ**: iOS ì•± ì‹¤í–‰ ì‹œ ê²€ì€ í™”ë©´ë§Œ í‘œì‹œë˜ê³  ì½˜í…ì¸ ê°€ ë¡œë“œë˜ì§€ ì•ŠìŒ
- **ì›ì¸**: ì›¹ë·°ê°€ ì›¹ì•± ë¹Œë“œ ê²°ê³¼ë¬¼ì„ ì œëŒ€ë¡œ ì°¾ì§€ ëª»í•¨
- **í•´ê²°**: ì›¹ì•± ë¹Œë“œ â†’ iOS ë™ê¸°í™” â†’ Clean Build Folder ìˆœì„œ ì² ì €íˆ ì¤€ìˆ˜

### ë¬¸ì œ 2: Live Reload IP ì£¼ì†Œ ë¬¸ì œ
- **ë¬¸ì œ**: ë„¤íŠ¸ì›Œí¬ í™˜ê²½ ë³€ê²½ ì‹œ Live Reloadê°€ ì‘ë™í•˜ì§€ ì•ŠìŒ
- **ì›ì¸**: capacitor.config.tsì— í•˜ë“œì½”ë”©ëœ IP ì£¼ì†Œ
- **í•´ê²°**: 
  - ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ì—ì„œ ìë™ IP ê°ì§€ ë¡œì§ êµ¬í˜„
  - capacitor.config.ts íŒŒì¼ ìë™ ì—…ë°ì´íŠ¸ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±

### ë¬¸ì œ 3: Apple Developer ì¸ì¦ ë¬¸ì œ
- **ë¬¸ì œ**: "Communication with Apple Failed" ì—ëŸ¬ë¡œ ì‹¤ì œ ê¸°ê¸° í…ŒìŠ¤íŠ¸ ë¶ˆê°€
- **ì›ì¸**: 
  - ì‹¤ì œ iPhoneì´ ì—°ê²°ë˜ì§€ ì•Šì€ ìƒíƒœì—ì„œ í”„ë¡œë¹„ì €ë‹ í”„ë¡œíŒŒì¼ ìƒì„± ë¶ˆê°€
  - iOS ê°œë°œì ëª¨ë“œ ë¯¸í™œì„±í™”
- **í•´ê²°**: 
  - iPhone USB ì—°ê²° í™•ì¸
  - ê¸°ê¸°ì—ì„œ ê°œë°œì ëª¨ë“œ í™œì„±í™”
  - Xcodeì—ì„œ ì¸ì¦ì„œ ì‹ ë¢° ì„¤ì •

### ë¬¸ì œ 4: ìŠ¤í¬ë¦½íŠ¸ ì¤‘ë³µ ì½”ë“œ ë¬¸ì œ
- **ë¬¸ì œ**: ì—¬ëŸ¬ ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ë™ì¼í•œ ê¸°ëŠ¥(IP ê°ì§€, Capacitor ì„¤ì • ë“±) ì¤‘ë³µ êµ¬í˜„
- **ì›ì¸**: ì´ˆê¸° êµ¬í˜„ ì‹œ ì¬ì‚¬ìš©ì„±ì„ ê³ ë ¤í•˜ì§€ ì•Šì€ êµ¬ì¡°
- **í•´ê²°**: ê³µí†µ ê¸°ëŠ¥ì„ utils ëª¨ë“ˆë¡œ ë¶„ë¦¬í•˜ì—¬ ì¬ì‚¬ìš© ê°€ëŠ¥í•œ êµ¬ì¡°ë¡œ ë¦¬íŒ©í† ë§

## ê²°ê³¼ ë° ì˜í–¥
- **ìµœì¢… ê²°ê³¼ë¬¼**: ìë™í™”ëœ iOS ê°œë°œ í™˜ê²½ ë° Live Reload ì›Œí¬í”Œë¡œìš°
- **ì½”ë“œë² ì´ìŠ¤ ì˜í–¥**: 
  - ê°œë°œ ë„êµ¬ ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€ë¡œ í”„ë¡œì íŠ¸ êµ¬ì¡° í™•ì¥
  - ê°œë°œì ê²½í—˜ í¬ê²Œ í–¥ìƒ
  - ì¼ê´€ì„± ìˆëŠ” ê°œë°œ í™˜ê²½ ì œê³µ
- **ì„±ëŠ¥ ê³ ë ¤ì‚¬í•­**: ìë™í™” ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ì‹œê°„ì€ ë¬´ì‹œí•  ìˆ˜ì¤€, ê°œë°œ íš¨ìœ¨ì„± í¬ê²Œ í–¥ìƒ

## í–¥í›„ ê°œì„ ì‚¬í•­
- Apple Developer Program ê°€ì… ë° TestFlight ë°°í¬ ì„¤ì •
- Android í”Œë«í¼ ì§€ì›ì„ ìœ„í•œ ìŠ¤í¬ë¦½íŠ¸ í™•ì¥
- CI/CD íŒŒì´í”„ë¼ì¸ í†µí•© ê²€í† 
- íŒ€ ê°œë°œì„ ìœ„í•œ í™˜ê²½ ì„¤ì • í‘œì¤€í™”

---

## [2025-08-24] iOS ì‹œë®¬ë ˆì´í„° ìë™ ì„ íƒ ê¸°ëŠ¥ ê°œì„ 

### ì‘ì—… ê°œìš”
- ì‚¬ìš©ìê°€ `yarn ios:dev` ì‹¤í–‰ ì‹œ ë””ë°”ì´ìŠ¤ ì„ íƒ ë©”ë‰´ ì—†ì´ ë¶€íŒ…ëœ ì‹œë®¬ë ˆì´í„°ë¥¼ ìë™ìœ¼ë¡œ ì‚¬ìš©í•˜ë„ë¡ ê°œì„ 
- ê°œë°œ ì›Œí¬í”Œë¡œìš°ì˜ ì¶”ê°€ì ì¸ íš¨ìœ¨ì„± í–¥ìƒ

### ë°œìƒí•œ ë¬¸ì œ
- **ë¬¸ì œ**: `yarn ios:dev` ì‹¤í–‰ ì‹œ ë§¤ë²ˆ ì‹œë®¬ë ˆì´í„° ì„ íƒ ë©”ë‰´ê°€ í‘œì‹œë¨
- **ì›ì¸**: Capacitorì˜ ê¸°ë³¸ ë™ì‘ì´ ì‚¬ìš© ê°€ëŠ¥í•œ ë””ë°”ì´ìŠ¤ ëª©ë¡ì„ ë³´ì—¬ì£¼ê³  ì‚¬ìš©ì ì„ íƒì„ ìš”êµ¬
- **ì‚¬ìš©ì ìš”êµ¬ì‚¬í•­**: ì´ë¯¸ ë¶€íŒ…ëœ ì‹œë®¬ë ˆì´í„°ê°€ ìˆìœ¼ë©´ ìë™ìœ¼ë¡œ ê·¸ê²ƒì„ ì‚¬ìš©í•˜ê³  ì‹¶ìŒ

### í•´ê²° ë°©ë²•
ë¶€íŒ…ëœ ì‹œë®¬ë ˆì´í„°ì˜ UDIDë¥¼ ìë™ ê°ì§€í•˜ì—¬ `--target` ì˜µì…˜ìœ¼ë¡œ ì „ë‹¬í•˜ëŠ” ë°©ì‹ êµ¬í˜„:

```javascript
// ë¶€íŒ…ëœ ì‹œë®¬ë ˆì´í„°ì˜ UDID ê°€ì ¸ì˜¤ê¸°
let targetOption = "";
try {
  const bootedLine = execSync("xcrun simctl list devices | grep '(Booted)'", { 
    encoding: "utf-8", 
    stdio: "pipe" 
  }).trim();
  
  if (bootedLine) {
    // UDID ì¶”ì¶œ (ê´„í˜¸ ì•ˆì˜ ì²« ë²ˆì§¸ ê°’)
    const udidMatch = bootedLine.match(/\(([A-F0-9-]+)\)/);
    if (udidMatch && udidMatch[1]) {
      const udid = udidMatch[1];
      targetOption = ` --target ${udid}`;
      console.log("ğŸ“± Using currently booted simulator automatically");
    }
  } else {
    console.log("ğŸ“± No booted simulator found, Capacitor will show device selection");
  }
} catch (error) {
  console.log("ğŸ“± Capacitor will show device selection");
}
```

### êµ¬í˜„ ì„¸ë¶€ì‚¬í•­
1. `xcrun simctl list devices | grep '(Booted)'`ë¡œ ë¶€íŒ…ëœ ì‹œë®¬ë ˆì´í„° í™•ì¸
2. ì •ê·œì‹ì„ ì‚¬ìš©í•˜ì—¬ UDID ì¶”ì¶œ: `/\(([A-F0-9-]+)\)/`
3. UDIDê°€ ìˆìœ¼ë©´ `--target UDID` ì˜µì…˜ì„ Capacitor ëª…ë ¹ì–´ì— ì¶”ê°€
4. UDIDê°€ ì—†ìœ¼ë©´ ê¸°ë³¸ ë™ì‘(ë””ë°”ì´ìŠ¤ ì„ íƒ ë©”ë‰´) ìœ ì§€

### ê²°ê³¼
- ë¶€íŒ…ëœ ì‹œë®¬ë ˆì´í„°ê°€ ìˆëŠ” ê²½ìš°: ìë™ìœ¼ë¡œ í•´ë‹¹ ì‹œë®¬ë ˆì´í„°ì—ì„œ ì•± ì‹¤í–‰
- ë¶€íŒ…ëœ ì‹œë®¬ë ˆì´í„°ê°€ ì—†ëŠ” ê²½ìš°: ê¸°ì¡´ì²˜ëŸ¼ ë””ë°”ì´ìŠ¤ ì„ íƒ ë©”ë‰´ í‘œì‹œ
- ì‚¬ìš©ì ê²½í—˜ ì¶”ê°€ ê°œì„ ìœ¼ë¡œ ê°œë°œ íš¨ìœ¨ì„± í–¥ìƒ

---

## íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### iOS ëŸ°íƒ€ì„ ë²„ì „ ë¶ˆì¼ì¹˜

**ì¦ìƒ**: `yarn ios:dev` ì‹¤í–‰ ì‹œ ë¹Œë“œ ì‹¤íŒ¨
```
error: iOS 18.2 Platform Not Installed.
```

**ì§„ë‹¨**:
```bash
xcodebuild ... 2>&1 | grep -A 20 "error:"  # ì—ëŸ¬ ë©”ì‹œì§€ ì¶”ì¶œ
xcrun simctl list runtimes | grep iOS      # ì„¤ì¹˜ëœ ëŸ°íƒ€ì„ í™•ì¸
```

**ì›ì¸**: ìŠ¤í† ë¦¬ë³´ë“œê°€ ìµœì‹  iOS SDKë¡œ ìƒì„±ë˜ì—ˆìœ¼ë‚˜ í•´ë‹¹ ëŸ°íƒ€ì„ ë¯¸ì„¤ì¹˜

**í•´ê²°**:
```bash
xcodebuild -downloadPlatform iOS  # ìµœì‹  ëŸ°íƒ€ì„ ìë™ ì„¤ì¹˜
xcrun simctl runtime list         # ì„¤ì¹˜ í™•ì¸
```

---

## ì°¸ê³  ë¬¸ì„œ
- [Capacitor Live Reload ê°€ì´ë“œ](https://capacitorjs.com/docs/guides/live-reload)
- [Capacitor Configuration](https://capacitorjs.com/docs/config)
- [iOS Developer Program](https://developer.apple.com/programs/)
- [Xcode í”„ë¡œë¹„ì €ë‹ ê°€ì´ë“œ](https://developer.apple.com/documentation/xcode/distributing-your-app-for-beta-testing-and-releases)
- [xcrun simctl ëª…ë ¹ì–´ ê°€ì´ë“œ](https://developer.apple.com/documentation/xcode/running-your-app-in-simulator-or-on-a-device)