---
description: "Git 변경사항을 분석하여 해당하는 CLAUDE.md 파일을 자동으로 업데이트합니다"
---

## 동작 방식

1. **변경사항 분석**: `git diff`와 `git status`로 현재 변경된 파일들을 분석
2. **변경 유형 판별**: 파일 경로와 변경 내용을 기반으로 변경 유형 분류
3. **적절한 CLAUDE.md 선택**: 변경 유형에 따라 업데이트할 CLAUDE.md 파일 결정
4. **가이드 업데이트**: 중요한 변경사항을 해당 CLAUDE.md 파일에 추가

## 변경사항 유형별 매핑 규칙

### 1. Frontend 변경사항 → `frontend/CLAUDE.md`
- `src/`, `public/` 디렉토리 내 파일 변경
- React, TypeScript, Vite 관련 파일
- `package.json`, `yarn.lock` 변경
- `ios/` 디렉토리 (Capacitor 관련)

### 2. Backend 변경사항 → `backend/CLAUDE.md`
- `backend/` 디렉토리 내 Go 파일
- `go.mod`, `go.sum` 변경
- API 서버 구현 관련 파일

### 3. API 통신 규약 변경 → 루트 `CLAUDE.md`
- API 엔드포인트 변경 (URL, HTTP 메서드)
- 요청/응답 데이터 구조 변경
- Frontend-Backend 간 인터페이스 변경

### 4. 아키텍처/인프라 변경 → 루트 `CLAUDE.md`
- `Makefile`, Docker 관련 파일
- 프로젝트 구조 변경
- 새로운 기술 스택 도입
- 공통 설정 파일

### 5. 개발 도구/스크립트 → 루트 `CLAUDE.md`
- `.claude/` 디렉토리 변경
- CI/CD 스크립트
- 개발 환경 설정

## 실행 과정

1. Git 변경사항을 스캔하여 변경된 파일 목록 수집
2. 각 파일의 경로와 변경 내용을 분석하여 변경 유형 분류
3. 중요도가 높은 변경사항 필터링:
   - 새로운 아키텍처 패턴 도입
   - API 엔드포인트 추가/변경
   - 새로운 라이브러리나 기술 스택 추가
   - 핵심 비즈니스 로직 변경
   - 설정 파일의 중요한 변경
4. 해당하는 CLAUDE.md 파일에 변경사항을 추가:
   - 기존 섹션에 정보 추가
   - 새로운 섹션 생성 (필요시)
   - 예시 코드 업데이트
   - 더 이상 유효하지 않은 정보 제거

## 업데이트 형식

변경사항은 다음과 같은 형식으로 CLAUDE.md에 추가됩니다:

```markdown
## [날짜] 업데이트된 가이드라인

### 새로 추가된 기능/변경사항
- **[변경 유형]**: [변경 내용 설명]
- **영향 범위**: [어떤 부분에 영향을 미치는지]
- **사용법**: [새로운 패턴이나 방법론]

### 예시 코드
\```typescript
// 새로운 패턴 예시
\```

### 관련 파일
- `파일경로`: 변경 내용 요약
```

## 주의사항

- **선택적 업데이트**: 모든 변경사항을 기록하지 않고, Claude가 나중에 참고할만한 중요한 변경사항만 선별
- **기존 내용과의 일관성**: 기존 CLAUDE.md의 구조와 스타일을 유지
- **중복 방지**: 이미 문서화된 내용은 업데이트하지 않음
- **실용성 우선**: 이론적 설명보다는 실제 사용 가능한 정보 우선